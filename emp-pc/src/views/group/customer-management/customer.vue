<template>    <div class="customer">        <div style="margin-bottom: 10px;">            <Input v-model="searchTxt" placeholder="输入设备名称." style="width: 300px" />            <Button  type="primary" @click="searchList(0)">搜索</Button>        </div>        <div class="customer-list">            <Table :columns="columns" border :data="dataList"></Table>            <div style="margin-top: 10px;">                <Page :total="totalPage" :page-size="pageSize" :current="currentPage+1" @on-change="changePage"/>            </div>        </div>    </div></template><script>  export default{      name:'customer',    data(){        return{          pageSize:15,          currentPage:1,          totalPage:0,          searchTxt:"",          dataList:[],          columns:[            {              title: '账号',              align:'center',              key: 'account'            },            {              title: '名称',              key: 'name',              align:'center'            },            {              title: '信息数量',              key: 'msgNum',              align:'center'            },            {              title: '服务开通时间',              key: 'endTime',              align:'center'            },            {              title:'状态',              key:'status',              align:'center',              render: (h, params) => {                var text = '';                switch (params.row.status) {                  case 1:                    text = '锁定';                    break;                  case 0:                    text = '解锁'                    break;                  default:                    text = '';                    break;                }                return h('span', text);              }            },            {              title: '操作',              key: 'action',              width: 250,              align: 'center',              render: (h, params) => {                return h('div', [                  h('Button', {                    props: {type: 'text', size: 'small'},                    style: {                      color: '#2d8cf0'                    },                    on: {                      click: () => {                        console.log(params)                        this.$router.push({name:"user-info-management",                          query:{                            userId:params.row.userId                          }})                      }                    }                  }, '查看'),                  h('Button', {                    props: {type: 'text', size: 'small'},                    style: {                      color: '#2d8cf0'                    },                    on: {                      click: () => {                        this.$router.push({name:"add-new-service-management",                          query:{                            userId:params.row.userId                          }})                      }                    }                  }, '充值'),                  h('Button', {                    props: {type: 'text', size: 'small'},                    style: {                      color: '#2d8cf0'                    },                    on: {                      click: () => {                        this.lockAccount(params.row.status,params.row.userId)                      }                    }                  }, params.row.status==0?'锁定':'解锁')                ]);              }            }          ]        }    },    mounted(){        this.searchList(0)    },    methods:{      lockAccount(status,subUserId){        let userId = this.$cookie.get('userId');        let accessToken = this.$cookie.get('accessToken');        let permissions = this.$cookie.get('permissions');        let data = {          status:status==0?1:0,          subUserId:subUserId,          userId:userId,          loginType:2,          accessToken:accessToken,          permissions:permissions        };        this.$http({          method:'post',          url:this.$util.ajaxUrl+"/adminUser/updateUsers",          data        },(res)=>{          let result = res.data;          if(result.code==0){            this.$Message.success(res.data.msg)            this.searchList(0)          }else{            this.$Message.error(res.data.msg)          }        },(erro)=>{          console.log(erro);        })      },          changePage(it){            this.currentPage = it-1;            this.searchList(this.currentPage);          },        searchList(page){          this.currentPage = page;          let userId = this.$cookie.get('userId');          let accessToken = this.$cookie.get('accessToken');          let permissions = this.$cookie.get('permissions');          let data = {            userAccount:this.searchTxt,            rows:this.pageSize,            page:page,            userId:userId,            loginType:2,            accessToken:accessToken,            permissions:permissions          };          this.$http({            method:'post',            url:this.$util.ajaxUrl+"/adminUser/selectUsers",            data          },(res)=>{            let result = res.data;            if(result.code==0){              this.totalPage = result.data.count;                this.dataList = result.data.dataList            }else{              this.$Message.error(res.data.msg)            }          },(erro)=>{            console.log(erro);          })        }    }}</script>