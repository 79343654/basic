<style lang="less">    .line-chart{        width:100%;        min-height: 100%;        height: auto;        box-sizing: border-box;        .line-wrapper{            padding: 10px 0;            box-sizing: border-box;            height: auto;            .chart{                width:500px;                height: 300px;                display: inline-block;            }        }    }</style><template>    <div class="chart">        <div class="line-chart">            <search-wrapper :pageNow="pageNow"  @initPage = "initPage" @chartInfo="chartInfo" @getAreaGo = 'getAreaGo'></search-wrapper>            <div class="line-wrapper">                <div :id="item" class="chart" v-for="item in chartNum"></div>            </div>            <div style="text-align: right;padding: 100px 200px;">                <Page :total="totalPage" :page-size = "6" :current="pageNow+1"  @on-change="changePage" v-if="chartNum.length>0"/>            </div>        </div>    </div></template><script>  import searchWrapper from '../components/search-wrapper.vue'  export default {    name: 'chart',    data(){      return {        totalPage:0,        pageNow:0,        choosedAreaInfo:{},        theChartListInfo:{},        chartNum:[],      }    },    mounted(){    },    components:{      searchWrapper    },    methods:{      initPage(it){        this.pageNow = it      },      changePage(it){        this.pageNow = it-1      },      chartInfo(it){        const _this = this;        this.theChartListInfo = it;        this.totalPage = it.count;        if(this.theChartListInfo.dataList.length==0){          this.$Message.success("该区域没有设备")        };        this.chartNum = [];        for(var i=0;i<this.theChartListInfo.dataList.length;i++){          this.chartNum.push("line-chart"+i)        };        setTimeout(function(){          _this.drawChart();        },1000)      },      getAreaGo(it){        this.choosedAreaInfo = it;      },      drawChart(){        const _this = this;        this.theChartListInfo.dataList.forEach(function(val,index){//          if(index!==0){//            return//          }          var chart = _this.$echarts.init(document.getElementById(_this.chartNum[index]))          var options = {            title: {              text: val.deviceName            },            tooltip: {              trigger: 'axis'            },            legend: {              data:['温度','湿度']            },            grid: {              left: '3%',              right: '4%',              bottom: '3%',              containLabel: true            },            xAxis: {              type: 'category',              boundaryGap: false,              data: val.dateList            },            yAxis: {              type: 'value',              max:125,              min:-25,              splitNumber:6,              minInterval:0.1            },            series: [              {                name:'湿度',                type:'line',                stack: '总量',                data: val.humidityList              },              {                name:'温度',                type:'line',                stack: '总量',                data:val.temperatureList              }            ]          };          chart.setOption(options);        })      }    }  };</script>