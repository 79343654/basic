<template>    <div class="chart-show">        <search-wrapper @chartInfo="chartInfo" @initPage="initPage" @getAreaGo = 'getAreaGo' :pageNow ='pageNow' :theName="theName"></search-wrapper>        <div class="device-wrapper">            <ul class="device-list">                <li v-for="(item,index) in chartList" :key="index">                    <div class="device-one" :id="item.name1">                    </div>                    <div class="device-one" :id="item.name2" >                    </div>                </li>            </ul>            <div style="text-align: right;padding: 100px 200px;">             <Page :total="totalPage" :page-size = "20" :current="pageNow+1"  @on-change="changePage"/>            </div>        </div>    </div></template><style lang="less">    @import './online-data.less';</style><script>  import searchWrapper from '../../components/search-wrapper.vue'    export default {      name:'chartShow',      data(){        return {          theOnlineListInfo:{},          choosedAreaInfo:{},          totalPage:0,          pageNow:0,          chartList:[]        }      },      components:{        searchWrapper      },      props:['theName'],      mounted(){        const _this  = this;      },      methods:{        initPage(it){          this.pageNow = it        },        changePage(it){          this.pageNow = it-1        },        getAreaGo(it){          this.choosedAreaInfo = it;        },        chartInfo(it){          const _this = this;          this.chartList = [];          this.theOnlineListInfo = it;          this.totalPage = it.count;          if(this.theOnlineListInfo.dataList.length==0){            this.$Modal.info({              title: '提示',              content: '该区域没有设备'            });          }else{            this.theOnlineListInfo.dataList.forEach(function(val,index){              if(val.deviceTypes.split('')[1]=='0'){                _this.chartList.push({                  name1:'chart'+index,                  name2:'chart0'+index,                  humShow:false                })              }else{                _this.chartList.push({                  name1:'chart'+index,                  name2:'chart0'+index,                  humShow:true                })              }            })          }          setTimeout(function(){            _this.drawChart()          },500)        },        drawChart(){          const _this = this;          let options1 = {            title:{              text: '',              textStyle:{                fontSize:16,                align:'center'              }            },            tooltip: {              formatter: "{a} <br/>{b} : {c}%"            },            series: [{              name: '温度',              type: 'gauge',              center: ['50%', '75%'],              max:125,              min:-40,              splitNumber:5,              radius:'100%',  // 半径              startAngle:180,  //起始位置              endAngle:0,   //终点位置              detail: {                formatter: '{value}℃',                textStyle: {                  fontSize: 12                },                offsetCenter:['100%','-114%']              },              splitLine: {           // 分隔线                length: 15,         // 属性length控制线长                lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式                  color: 'auto'                }              },              axisLine: {            // 坐标轴线                lineStyle: {       // 属性lineStyle控制线条样式                  width: 10,                  color: [                    [0.3, '#67e0e3'],                    [0.7, '#37a2da'],                    [1,'#fd666d']                  ]                }              },              pointer:{                length:'80%', //指针                width:4              },              data: [{    //当前值                value: 0,                name: '温度'              }]            }]          };          let options2 = {            title:{              text: '',              textStyle:{                fontSize:12,                align:'center'              }            },            tooltip: {              formatter: "{a} <br/>{b} : {c}%"            },            series: [{              name: '湿度',              type: 'gauge',              splitNumber:5,              center: ['50%', '75%'],              max:100,              min:0,              radius:'100%',  // 半径              startAngle:180,  //起始位置              endAngle:0,   //终点位置              detail: {                formatter: '{value}%rh',                textStyle: {                  fontSize: 12                },                offsetCenter:['100%','-114%']              },              splitLine: {           // 分隔线                length: 15,           // 属性length控制线长                lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式                  color: 'auto'                }              },              axisLine: {            // 坐标轴线                lineStyle: {       // 属性lineStyle控制线条样式                  width: 10,                  color: [                    [0.3, '#67e0e3'],                    [0.7, '#37a2da'],                    [1,'#fd666d']                  ]                }              },              pointer:{                length:'80%', //指针                width:4              },              data: [{    //当前值                value: 0,                name: '湿度'              }]            }]          };          this.theOnlineListInfo.dataList.forEach(function(item,index){            let id1 = document.getElementById(_this.chartList[index].name1);            let chart1 = _this.$echarts.init(id1);            options1.title.text = item.deviceName;            options1.series[0].axisLine.lineStyle.color[0][0] = item.temperatureLow/60;            options1.series[0].axisLine.lineStyle.color[1][0] = item.temperatureHigh/60;            options1.series[0].data[0].value = item.temperature;            chart1.setOption(options1);            if(_this.chartList[index].humShow){              let id2 = document.getElementById(_this.chartList[index].name2);              let chart2 = _this.$echarts.init(id2);              options2.series[0].axisLine.lineStyle.color[0][0] = item.humidityLow/100;              options2.series[0].axisLine.lineStyle.color[1][0] = item.humidityHigh/100;              options2.series[0].data[0].value = item.humidity;              chart2.setOption(options2);            }          })        }      }    }</script>